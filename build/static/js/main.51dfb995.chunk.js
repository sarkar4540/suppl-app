(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{255:function(e,t,a){e.exports=a(382)},260:function(e,t,a){},262:function(e,t,a){},283:function(e,t){},285:function(e,t){},319:function(e,t){},320:function(e,t){},382:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),i=a.n(s),l=(a(260),a(4)),o=a.n(l),c=a(7),u=a(30),m=a(31),p=a(75),d=a(48),h=a(49),f=(a(262),a(9)),b=a(55),g=a(38),v=a(443),y=a(442),E=a(440),x=a(479),k=a(478),C=a(427),S=a(437),w=a(383),O=a(438),j=a(439),D=a(230),T=a.n(D),I=a(228),A=a.n(I),_=a(226),R=a.n(_),U=a(157),P=a.n(U),N=a(227),L=a.n(N),B=a(225),W=a.n(B),V=a(229),F=a.n(V),q=a(444),M=a(64),J=a(436),H=a(24),z=a(18),Y=a(17),X="//"+window.location.hostname+":3000";X="https://minibank.co.in";var G=null,K=function(){function e(t){Object(u.a)(this,e),this.token=localStorage.getItem("token"),this.uid=localStorage.getItem("uid"),this.setRootState=t,console.log(X),t&&t(JSON.parse(localStorage.getItem("state")))}return Object(m.a)(e,[{key:"getSite",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(X+"/i",{method:"GET"});case 2:if(200!==(t=e.sent).status){e.next=10;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"logIn",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/log_in",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:t,password:a})});case 3:if(200!==(n=e.sent).status){e.next=12;break}return e.next=7,n.json();case 7:return(r=e.sent).token&&r.user&&(this.token=r.token,this.uid=r.user.id,localStorage.setItem("token",r.token),localStorage.setItem("uid",r.user.id),localStorage.setItem("state",JSON.stringify({loggedIn:!0,profile:r.user,internet:!0})),this.setRootState&&this.setRootState({loggedIn:!0,profile:r.user,internet:!0,balance:r.user.balance})),e.abrupt("return",r);case 12:return e.next=14,n.json();case 14:return e.abrupt("return",e.sent);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",{status:"FAILURE",message:"Error during processing/transmission. Please check your connecttivity. If the problem persists, contact administrator."});case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"forgotPassword",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/forgot_password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:t})});case 3:if(200!==(a=e.sent).status){e.next=11;break}return e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:return e.next=13,a.json();case 13:return e.abrupt("return",e.sent);case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",{status:"FAILURE",message:"Error during processing/transmission. Please check your connecttivity. If the problem persists, contact administrator."});case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/change_password",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({password:t})});case 3:if(200!==(a=e.sent).status){e.next=12;break}return e.next=7,a.json();case 7:return(n=e.sent).token&&n.user&&(this.token=n.token,this.uid=n.user.id,localStorage.setItem("token",n.token),localStorage.setItem("uid",n.user.id),n.message="Password change successful!"),e.abrupt("return",n);case 12:return e.next=14,a.json();case 14:return e.abrupt("return",e.sent);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",{status:"FAILURE",message:"Error during processing/transmission. Please check your connecttivity. If the problem persists, contact administrator."});case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"registerCompany",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r,s,i,l,c,u,m,p,d,h,f){var b,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/register_company",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({companyName:t,companyPan:a,pan:n,address:r,city:s,district:i,state:l,pinCode:c,aadhaar:u,gstin:m,tan:p,latitude:d,longitude:h,ekycDoc:f})});case 3:if(200!==(b=e.sent).status){e.next=12;break}return e.next=7,b.json();case 7:return"AUTHFAILURE"===(g=e.sent).status&&this.logOut(),e.abrupt("return",g);case 12:return e.next=14,b.json();case 14:return e.abrupt("return",e.sent);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",{status:"FAILURE",message:"Error during processing/transmission. Please check your connecttivity. If the problem persists, contact administrator."});case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t,a,n,r,s,i,l,o,c,u,m,p,d,h){return e.apply(this,arguments)}}()},{key:"addUser",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r,s){var i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/create_user",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({name:t,email:a,mobile:n,allowAdd:r,retailer:s})});case 3:if(200!==(i=e.sent).status){e.next=12;break}return e.next=7,i.json();case 7:return"AUTHFAILURE"===(l=e.sent).status&&this.logOut(),e.abrupt("return",l);case 12:return e.next=14,i.json();case 14:return e.abrupt("return",e.sent);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",{status:"FAILURE",message:"Error during processing/transmission. Please check your connecttivity. If the problem persists, contact administrator."});case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t,a,n,r,s){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r,s,i){var l,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/update_user",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({email:t,mobile:a,status:n,per_commission:r,fix_commission:s,whitelabel:i})});case 3:if(200!==(l=e.sent).status){e.next=12;break}return e.next=7,l.json();case 7:return"AUTHFAILURE"===(c=e.sent).status&&this.logOut(),e.abrupt("return",c);case 12:return e.next=14,l.json();case 14:return e.abrupt("return",e.sent);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",{status:"FAILURE",message:"Error during processing/transmission. Please check your connecttivity. If the problem persists, contact administrator."});case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t,a,n,r,s,i){return e.apply(this,arguments)}}()},{key:"userList",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/list_users",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({query:t})});case 3:if(200!==(a=e.sent).status){e.next=12;break}return e.next=7,a.json();case 7:return"AUTHFAILURE"===(n=e.sent).status&&this.logOut(),e.abrupt("return",n);case 12:return e.next=14,a.json();case 14:return e.abrupt("return",e.sent);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",{status:"FAILURE",message:"Error during processing/transmission. Please check your connecttivity. If the problem persists, contact administrator."});case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"makeWithdrawl",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r,s,i,l,c){var u,m,p,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=c.latitude,m=c.longitude,e.prev=1,e.next=4,fetch(X+"/make_withdrawl",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({customer_aadhaar:t,customer_email:a,customer_name:n,customer_mobile:r,bank_id:s,amount:i,rdData:l,latitude:u,longitude:m})});case 4:if(200!==(p=e.sent).status){e.next=17;break}return e.next=8,p.json();case 8:if("AUTHFAILURE"===(d=e.sent).status&&this.logOut(),!d.balance){e.next=14;break}return localStorage.setItem("state",JSON.stringify(Object(b.a)({},JSON.parse(localStorage.getItem("state")),{balance:d.balance}))),e.next=14,this.setRootState({balance:d.balance});case 14:return e.abrupt("return",d);case 17:return e.next=19,p.json();case 19:return e.abrupt("return",e.sent);case 20:e.next=25;break;case 22:return e.prev=22,e.t0=e.catch(1),e.abrupt("return",{status:"FAILURE",message:"Error during processing/transmission. Please check your connecttivity. If the problem persists, contact administrator."});case 25:case"end":return e.stop()}}),e,this,[[1,22]])})));return function(t,a,n,r,s,i,l,o){return e.apply(this,arguments)}}()},{key:"makePayment",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r){var s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/make_payment",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({amount:a,accountNumber:n,ifsCode:r,name:t})});case 3:if(200!==(s=e.sent).status){e.next=16;break}return e.next=7,s.json();case 7:if("AUTHFAILURE"===(i=e.sent).status&&this.logOut(),!i.balance){e.next=13;break}return localStorage.setItem("state",JSON.stringify(Object(b.a)({},JSON.parse(localStorage.getItem("state")),{balance:i.balance}))),e.next=13,this.setRootState({balance:i.balance});case 13:return e.abrupt("return",i);case 16:return e.next=18,s.json();case 18:return e.abrupt("return",e.sent);case 19:e.next=24;break;case 21:return e.prev=21,e.t0=e.catch(0),e.abrupt("return",{status:"FAILURE",message:"Error during processing/transmission. Please check your connecttivity. If the problem persists, contact administrator."});case 24:case"end":return e.stop()}}),e,this,[[0,21]])})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"enquireBalance",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r,s,i,l){var c,u,m,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=l.latitude,u=l.longitude,e.prev=1,e.next=4,fetch(X+"/check_balance",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({customer_aadhaar:t,customer_email:a,customer_name:n,customer_mobile:r,bank_id:s,rdData:i,latitude:c,longitude:u})});case 4:if(200!==(m=e.sent).status){e.next=13;break}return e.next=8,m.json();case 8:return"AUTHFAILURE"===(p=e.sent).status&&this.logOut(),e.abrupt("return",p);case 13:return e.next=15,m.json();case 15:return e.abrupt("return",e.sent);case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(1),e.abrupt("return",{status:"FAILURE",message:"Error during processing/transmission. Please check your connecttivity. If the problem persists, contact administrator."});case 21:case"end":return e.stop()}}),e,this,[[1,18]])})));return function(t,a,n,r,s,i,l){return e.apply(this,arguments)}}()},{key:"miniStatement",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r,s,i,l){var c,u,m,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=l.latitude,u=l.longitude,e.prev=1,e.next=4,fetch(X+"/mini_statement",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({customer_aadhaar:t,customer_email:a,customer_name:n,customer_mobile:r,bank_id:s,rdData:i,latitude:c,longitude:u})});case 4:if(200!==(m=e.sent).status){e.next=13;break}return e.next=8,m.json();case 8:return"AUTHFAILURE"===(p=e.sent).status&&this.logOut(),e.abrupt("return",p);case 13:return e.next=15,m.json();case 15:return e.abrupt("return",e.sent);case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(1),e.abrupt("return",{status:"FAILURE",message:"Error during processing/transmission. Please check your connecttivity. If the problem persists, contact administrator."});case 21:case"end":return e.stop()}}),e,this,[[1,18]])})));return function(t,a,n,r,s,i,l){return e.apply(this,arguments)}}()},{key:"fetchTransactions",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/fetch_transactions",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({from:t,to:a})});case 3:if(200!==(n=e.sent).status){e.next=12;break}return e.next=7,n.json();case 7:return"AUTHFAILURE"===(r=e.sent).status&&this.logOut(),e.abrupt("return",r.list);case 12:return e.abrupt("return",[]);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",[]);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"fetchCommissions",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/fetch_commissions",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({from:t,to:a})});case 3:if(200!==(n=e.sent).status){e.next=16;break}return e.next=7,n.json();case 7:if("AUTHFAILURE"===(r=e.sent).status&&this.logOut(),!r.balance){e.next=13;break}return localStorage.setItem("state",JSON.stringify(Object(b.a)({},JSON.parse(localStorage.getItem("state")),{balance:r.balance}))),e.next=13,this.setRootState({balance:r.balance});case 13:return e.abrupt("return",r);case 16:return e.abrupt("return",{commissions:[],balance:null});case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",{commissions:[],balance:null});case 22:case"end":return e.stop()}}),e,this,[[0,19]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"fetchAddRequests",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/fetch_add_requests",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({})});case 3:if(200!==(t=e.sent).status){e.next=12;break}return e.next=7,t.json();case 7:return"AUTHFAILURE"===(a=e.sent).status&&this.logOut(),e.abrupt("return",a);case 12:return e.abrupt("return",{commissions:[],balance:null});case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{commissions:[],balance:null});case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchTransfers",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/fetch_transfers",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({})});case 3:if(200!==(t=e.sent).status){e.next=16;break}return e.next=7,t.json();case 7:if("AUTHFAILURE"===(a=e.sent).status&&this.logOut(),!a.balance){e.next=13;break}return localStorage.setItem("state",JSON.stringify(Object(b.a)({},JSON.parse(localStorage.getItem("state")),{balance:a.balance}))),e.next=13,this.setRootState({balance:a.balance});case 13:return e.abrupt("return",a);case 16:return e.abrupt("return",{commissions:[],balance:null});case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",{commissions:[],balance:null});case 22:case"end":return e.stop()}}),e,this,[[0,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"saveWhiteLabel",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r){var s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/update_whitelabel",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({name:t,logo:a,instructions:n,colors:r})});case 3:if(200!==(s=e.sent).status){e.next=12;break}return e.next=7,s.json();case 7:return"AUTHFAILURE"===(i=e.sent).status&&this.logOut(),e.abrupt("return",i);case 12:return e.abrupt("return",{message:"Update Failed!"});case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{message:"Update Failed!"});case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"addBalance",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/add_balance",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({amount:t,upload:a})});case 3:if(200!==(n=e.sent).status){e.next=12;break}return e.next=7,n.json();case 7:return"AUTHFAILURE"===(r=e.sent).status&&this.logOut(),e.abrupt("return",r);case 12:return e.abrupt("return",{message:"Request Failed!"});case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{message:"Request Failed!"});case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"approveBalance",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/approve_balance",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({cid:t,accepted:a})});case 3:if(200!==(n=e.sent).status){e.next=12;break}return e.next=7,n.json();case 7:return"AUTHFAILURE"===(r=e.sent).status&&this.logOut(),e.abrupt("return",r);case 12:return e.abrupt("return",{message:"Request Failed!"});case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{message:"Request Failed!"});case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getCustomer",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X+"/get_customer",{method:"POST",headers:{"Content-Type":"application/json",uid:this.uid,token:this.token},body:JSON.stringify({customer_aadhaar:t,customer_mobile:a})});case 3:if(200!==(n=e.sent).status){e.next=12;break}return e.next=7,n.json();case 7:return"AUTHFAILURE"===(r=e.sent).status&&this.logOut(),e.abrupt("return",r.customer);case 12:return e.abrupt("return",null);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"isLoggedIn",value:function(){return this.token&&this.uid}},{key:"logOut",value:function(){this.token=null,this.uid=null,localStorage.clear(),this.setRootState&&this.setRootState({loggedIn:!1,profile:null})}}]),e}();function $(e){return e&&(G=new K(e)),G}var Q=a(428),Z=a(429),ee=a(430),te=a(431),ae=a(432),ne=a(433),re=a(434),se=a(435);function ie(e){var t=Object(H.a)(),a=Object(n.useState)({text:"Total transactions this month",num:e.profile.stats.total_txn.count,i:0}),s=Object(f.a)(a,2),i=s[0],l=s[1];return Object(n.useEffect)((function(){var t=setInterval((function(){var t=[{text:"Total transactions this month",num:e.profile.stats.total_txn.count},{text:"Your transactions this month",num:e.profile.stats.your_txn.count},{text:"Your commission this month",num:e.profile.stats.your_commission.sum?e.profile.stats.your_commission.sum:0}];l(Object(b.a)({},t[i.i%t.length],{i:i.i+1}))}),3e3);return function(){clearInterval(t)}})),r.a.createElement("div",{style:{background:t.palette.info.main,color:t.palette.info.contrastText}},r.a.createElement("div",{style:{margin:0,padding:"50px 15px",display:"flex",flexWrap:"wrap",justifyContent:"space-evenly"}},r.a.createElement("div",null,r.a.createElement(M.a,{variant:"body1",style:{width:"320px"}},i.text.toUpperCase()),r.a.createElement(M.a,{variant:"h3",style:{flex:1}},i.num)),e.profile&&e.profile.company?r.a.createElement("div",null,r.a.createElement(M.a,{gutterBottom:!0,variant:"h4"},e.profile.company.company_name),r.a.createElement(M.a,{variant:"body1"},"Phone: ",e.profile.company.phone),e.profile.company.gstin?r.a.createElement(M.a,{variant:"body1"},"GSTIN: ",e.profile.company.gstin):null,r.a.createElement(M.a,{gutterBottom:!0,variant:"body1"},e.profile.company.address,", ",e.profile.company.state," (PIN : ",e.profile.company.pincode,")")):null))}function le(e){var t=Object(H.a)();return r.a.createElement("div",{style:{background:t.palette.secondary.dark,padding:"15px"}},r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"}},e.profile.type<99?r.a.createElement("div",null,r.a.createElement(C.a,{style:{color:t.palette.secondary.contrastText},component:Y.b,to:"/management"},r.a.createElement(Q.a,{style:{fontSize:"4em"}})),r.a.createElement("div",{style:{color:t.palette.secondary.contrastText}},"Management")):null,0===e.profile.type?r.a.createElement("div",null,r.a.createElement(C.a,{style:{color:t.palette.secondary.contrastText},component:Y.b,to:"/approve"},r.a.createElement(Z.a,{style:{fontSize:"4em"}})),r.a.createElement("div",{style:{color:t.palette.secondary.contrastText}},"Approve Requests")):null,e.profile.merchant_id?r.a.createElement("div",null,r.a.createElement(C.a,{style:{color:t.palette.secondary.contrastText},component:Y.b,to:"/cash"},r.a.createElement(ee.a,{style:{fontSize:"4em"}})),r.a.createElement("div",{style:{color:t.palette.secondary.contrastText}},"AePS")):null,e.profile.merchant_id?r.a.createElement("div",null,r.a.createElement(C.a,{style:{color:t.palette.secondary.contrastText},component:Y.b,to:"/history"},r.a.createElement(te.a,{style:{fontSize:"4em"}})),r.a.createElement("div",{style:{color:t.palette.secondary.contrastText}},"Transactions")):null,r.a.createElement("div",null,r.a.createElement(C.a,{style:{color:t.palette.secondary.contrastText},component:Y.b,to:"/transfer"},r.a.createElement(ae.a,{style:{fontSize:"4em"}})),r.a.createElement("div",{style:{color:t.palette.secondary.contrastText}},"Transfer")),r.a.createElement("div",null,r.a.createElement(C.a,{style:{color:t.palette.secondary.contrastText},component:Y.b,to:"/balance"},r.a.createElement(ne.a,{style:{fontSize:"4em"}})),r.a.createElement("div",{style:{color:t.palette.secondary.contrastText}},"Wallet")),r.a.createElement("div",null,r.a.createElement(C.a,{style:{color:t.palette.secondary.contrastText},component:Y.b,to:"/account"},r.a.createElement(re.a,{style:{fontSize:"4em"}})),r.a.createElement("div",{style:{color:t.palette.secondary.contrastText}},"Account")),r.a.createElement("div",null,r.a.createElement(C.a,{style:{color:t.palette.secondary.contrastText},onClick:function(){$(!1).logOut()}},r.a.createElement(se.a,{style:{fontSize:"4em"}})),r.a.createElement("div",{style:{color:t.palette.secondary.contrastText}},"Log Out"))))}function oe(e){var t=Object(H.a)();return r.a.createElement("div",{square:!0,style:{background:t.palette.primary.contrastText,padding:"15px",textAlign:"center"}},r.a.createElement("img",{src:e.profile&&e.profile.whitelabel?e.profile.whitelabel.logo:e.site?e.site.logo:null,style:{maxWidth:"480px",maxHeight:"150px"}}),r.a.createElement(M.a,{style:{color:t.palette.primary.main},variant:"h3"},(0===e.profile.type?"Super Administrator":1===e.profile.type?"Administrator":2===e.profile.type?"Super Distributor":3===e.profile.type?"Distributor":99===e.profile.type?"Retailer":"Sub Distributor").toUpperCase()))}function ce(e){Object(H.a)();var t=Object(n.useState)({t:"./partners/p1.png",i:1}),a=Object(f.a)(t,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){var e=setInterval((function(){var e=["./partners/p1.png","./partners/p2.png","./partners/p3.png"];i({t:e[s.i%e.length],i:s.i+1})}),2e3);return function(){clearInterval(e)}})),r.a.createElement("div",{style:{width:"180px",height:"60px"}},r.a.createElement("img",{src:s.t,style:{maxWidth:"150px",maxHeight:"60px"}}))}function ue(e){Object(H.a)();return r.a.createElement("div",{style:{padding:"24px 5px"}},r.a.createElement("div",{square:!0,style:{padding:"0 25px",margin:"0 auto",maxWidth:"720px",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"}},r.a.createElement("img",{src:"./partners/p1.png",style:{margin:"10px",maxWidth:"150px"}}),r.a.createElement("img",{src:"./partners/p2.png",style:{margin:"10px",maxWidth:"120px"}}),r.a.createElement("img",{src:"./partners/p3.png",style:{margin:"10px",maxWidth:"120px"}})))}function me(e){var t=Object(H.a)();return r.a.createElement("div",{square:!0,style:{height:"100%",background:t.palette.info.light,color:t.palette.info.contrastText,padding:"15px"}},r.a.createElement(M.a,{variant:"h4"},"Instructions"),r.a.createElement("div",{style:{textAlign:"center"},dangerouslySetInnerHTML:{__html:e.profile&&e.profile.whitelabel?e.profile.whitelabel.instructions:e.site?e.site.instructions:"Welcome to Mini Bank!"}}))}var pe=a(441),de=a(445),he=a(446),fe=a(447),be=a(448),ge=a(449),ve=Object(J.a)((function(e){var t,a;return{root:{display:"flex"},drawer:Object(g.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:(t={},Object(g.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),Object(g.a)(t,"position","fixed"),t),footer:(a={},Object(g.a)(a,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),Object(g.a)(a,"position","fixed"),Object(g.a)(a,"bottom",0),a),menuButton:Object(g.a)({marginRight:e.spacing(2),marginLeft:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),title:{textDecoration:"none"},toolbar:Object(b.a)({},e.mixins.toolbar),list:{background:e.palette.secondary.main,color:e.palette.secondary.contrastText},drawerPaper:{width:240,background:e.palette.secondary.main},content:{width:"calc(100% - ".concat(240,"px)"),flexGrow:1,overflowX:"hidden",marginBottom:e.spacing(2)}}}));var ye=function(e){var t=e.window,a=ve(),n=Object(H.a)(),s=r.a.useState(!1),i=Object(f.a)(s,2),l=i[0],o=i[1],c=Object(z.f)(),u=function(){o(!l)},m=function(){o(!1)},p=function(e,t){return e===t?{style:{background:n.palette.primary.main,color:n.palette.primary.contrastText},to:t,selected:!0,onClick:m}:{style:{color:n.palette.secondary.contrastText},to:t,onClick:m}},d=function(e,t){return e===t?{style:{color:n.palette.primary.contrastText},color:n.palette.primary.contrastText}:{style:{color:n.palette.secondary.contrastText},color:n.palette.secondary.contrastText}},h=r.a.createElement("div",null,r.a.createElement("div",{className:a.toolbar,style:{background:n.palette.secondary.main}},r.a.createElement(S.a,{className:a.list},r.a.createElement(w.a,Object.assign({color:"secondary",component:Y.b},p(c.pathname,"/"),{button:!0}),r.a.createElement(O.a,null,r.a.createElement(W.a,d(c.pathname,"/"))),r.a.createElement(j.a,{primary:e.loggedIn?"Home":"Log In"})))),r.a.createElement(E.a,null),e.loggedIn&&e.profile?r.a.createElement("div",null,r.a.createElement(S.a,{className:a.list},r.a.createElement(w.a,{component:M.a,style:{color:n.palette.secondary.contrastText},variant:"caption"},0===e.profile.type?"Super Administrator":1===e.profile.type?"Administrator":2===e.profile.type?"Super Distributor":3===e.profile.type?"Distributor":99===e.profile.type?"Retailer":"Sub Distributor"),0===e.profile.type?r.a.createElement(w.a,Object.assign({button:!0,component:Y.b},p(c.pathname,"/approve")),r.a.createElement(O.a,null,r.a.createElement(pe.a,d(c.pathname,"/approve"))),r.a.createElement(j.a,{primary:"Approve Requests"})):null,e.profile.type<99?r.a.createElement(w.a,Object.assign({component:Y.b},p(c.pathname,"/management"),{button:!0}),r.a.createElement(O.a,null,r.a.createElement(P.a,d(c.pathname,"/management"))),r.a.createElement(j.a,{primary:"Management"})):null,e.profile.merchant_id?r.a.createElement(w.a,Object.assign({button:!0,component:Y.b},p(c.pathname,"/cash")),r.a.createElement(O.a,null,r.a.createElement(ee.a,d(c.pathname,"/cash"))),r.a.createElement(j.a,{primary:"AePS"})):null,e.profile.merchant_id?r.a.createElement(w.a,Object.assign({button:!0,component:Y.b},p(c.pathname,"/history")),r.a.createElement(O.a,null,r.a.createElement(R.a,d(c.pathname,"/history"))),r.a.createElement(j.a,{primary:"Transactions"})):null,r.a.createElement(w.a,Object.assign({button:!0,component:Y.b},p(c.pathname,"/balance")),r.a.createElement(O.a,null,r.a.createElement(L.a,d(c.pathname,"/balance"))),r.a.createElement(j.a,{primary:"Wallet"})),r.a.createElement(w.a,Object.assign({button:!0,component:Y.b},p(c.pathname,"/transfer")),r.a.createElement(O.a,null,r.a.createElement(ae.a,d(c.pathname,"/transfer"))),r.a.createElement(j.a,{primary:"Transfer"}))),r.a.createElement(E.a,null),r.a.createElement(S.a,{className:a.list},r.a.createElement(w.a,{style:{color:n.palette.secondary.contrastText},component:M.a,variant:"caption"},e.profile.name),r.a.createElement(w.a,Object.assign({button:!0,component:Y.b},p(c.pathname,"/account")),r.a.createElement(O.a,null,r.a.createElement(A.a,d(c.pathname,"/account"))),r.a.createElement(j.a,{primary:"Account"})),r.a.createElement(w.a,Object.assign({button:!0},d(c.pathname,"/log_out"),{onClick:function(){$(!1).logOut()}}),r.a.createElement(O.a,null,r.a.createElement(F.a,d(c.pathname,"/log_out"))),r.a.createElement(j.a,{primary:"Log Out"})))):r.a.createElement(S.a,{className:a.list},r.a.createElement(w.a,Object.assign({component:Y.b},p(c.pathname,"/contact"),{button:!0}),r.a.createElement(O.a,null,r.a.createElement(P.a,d(c.pathname,"/contact"))),r.a.createElement(j.a,{primary:"Contact Us"})))),b=void 0!==t?function(){return t().document.body}:void 0;return r.a.createElement("div",{className:a.root},r.a.createElement(y.a,null),r.a.createElement(v.a,{className:a.appBar},r.a.createElement(q.a,{style:{padding:"3px",display:"flex"}},r.a.createElement(C.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:u,className:a.menuButton},r.a.createElement(T.a,{style:{color:n.palette.primary.contrastText}})),e.profile&&e.profile.whitelabel?r.a.createElement("img",{src:e.profile.whitelabel.logo,style:{padding:"5px",maxWidth:"360px",maxHeight:"60px"}}):e.site?r.a.createElement("img",{src:e.site.logo,style:{padding:"5px",maxWidth:"360px",maxHeight:"60px"}}):null,r.a.createElement("div",{style:{flex:"1",display:"flex",justifyContent:"flex-end"}},r.a.createElement(k.a,{smDown:!0,implementation:"css"},r.a.createElement(M.a,{style:{textAlign:"left",color:n.palette.primary.contrastText,padding:"0 24px"},noWrap:!0,className:a.title,variant:"h6"},e.profile?e.profile.name:""),r.a.createElement(M.a,{style:{textAlign:"left",color:n.palette.primary.contrastText,padding:"0 24px"},noWrap:!0,className:a.title,variant:"body1"},e.profile?"Balance: "+e.balance:"")),r.a.createElement(k.a,{smDown:!0,implementation:"css"},r.a.createElement("img",{src:"./partners/t1.png",style:{padding:"5px 15px",maxWidth:"150px",maxHeight:"60px"}}))),r.a.createElement(ce,null))),r.a.createElement("nav",{className:a.drawer,"aria-label":"mailbox folders"},r.a.createElement(k.a,{smUp:!0,implementation:"css"},r.a.createElement(x.a,{container:b,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:l,onClose:u,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},h)),r.a.createElement(k.a,{xsDown:!0,implementation:"css"},r.a.createElement(x.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},h))),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.toolbar}),e.children,r.a.createElement("div",{className:a.footer,style:{display:"flex",justifyContent:"space-evenly",background:n.palette.primary.main}},e.geoData?r.a.createElement(M.a,{variant:"subtitle1",style:{background:n.palette.success.main,color:n.palette.success.contrastText,padding:"5px",margin:"5px",display:"flex",justifyContent:"center"}},r.a.createElement(de.a,null)," ",r.a.createElement(k.a,{smDown:!0}," X: ",e.geoData.latitude," Y: ",e.geoData.longitude," ")):r.a.createElement(M.a,{variant:"subtitle1",style:{background:n.palette.error.main,color:n.palette.error.contrastText,padding:"5px",margin:"5px",display:"flex",justifyContent:"center"}},r.a.createElement(he.a,null),r.a.createElement(k.a,{smDown:!0},"Please turn on and give location permissions.")),e.rdDetails.deviceinfo?r.a.createElement(M.a,{variant:"subtitle1",style:{background:n.palette.success.main,color:n.palette.success.contrastText,padding:"5px",margin:"5px",display:"flex",justifyContent:"center"}},r.a.createElement(fe.a,null)," ",r.a.createElement(k.a,{smDown:!0}," ",e.rdDetails.deviceinfo.dpId," ")):r.a.createElement(M.a,{variant:"subtitle1",style:{background:n.palette.error.main,color:n.palette.error.contrastText,padding:"5px",margin:"5px",display:"flex",justifyContent:"center"}},r.a.createElement(fe.a,null),r.a.createElement(k.a,{smDown:!0},"Please connect a registered Biometric device.")),e.site?r.a.createElement(M.a,{variant:"subtitle1",style:{background:n.palette.success.main,color:n.palette.success.contrastText,padding:"5px",margin:"5px",display:"flex",justifyContent:"center"}},r.a.createElement(be.a,null)," ",r.a.createElement(k.a,{smDown:!0}," Connected with server ")):r.a.createElement(M.a,{variant:"subtitle1",style:{background:n.palette.error.main,color:n.palette.error.contrastText,padding:"5px",margin:"5px",display:"flex",justifyContent:"center"}},r.a.createElement(ge.a,null),r.a.createElement(k.a,{smDown:!0},"Disconnected from server.")))))},Ee=a(50),xe=a(453),ke=a(480),Ce=a(95),Se=a.n(Ce),we=a(454),Oe=a(455),je=a(452),De=a(482),Te=a(477),Ie=a(456),Ae=a(462),_e=a(463),Re=a(464),Ue=a(483),Pe=a(465),Ne=a(466),Le=a(457),Be=a(458),We=a(459),Ve=a(460),Fe=a(461),qe=a(74),Me=a.n(qe),Je=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={newUserDialog:!1,changeUserDialog:!1,query:"",userList:[],registerCompany:!1},n}return Object(m.a)(a,[{key:"loadUserList",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(!1).userList("");case 2:"SUCCESS"===(t=e.sent).status&&this.setState({userList:t.list});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadUserList()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{fullWidth:!0,elevation:1,style:{backgroundColor:"#fff",padding:"25px"}},r.a.createElement(M.a,{variant:"h4",align:"left",color:"primary",gutterBottom:!0},"Management"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(ke.a,{id:"input-with-icon-textfield",label:"Search users",variant:"outlined",size:"small",style:{flex:1,margin:"5px"},value:this.state.query,onChange:function(t){return e.setState({query:t.target.value})},InputProps:{startAdornment:r.a.createElement(xe.a,{position:"start"},r.a.createElement(Se.a,null))}}),this.props.allow_add?r.a.createElement(we.a,{onClick:function(){e.setState({newUserDialog:{type:e.props.type+1}})},style:{flex:1,margin:"5px"},color:"primary",variant:"contained","aria-label":"add"},"Add ",0===this.props.type?"Administrator":1===this.props.type?"Super Distributor":2===this.props.type?"Distributor":"Sub Distributor"):null,this.props.allow_add?r.a.createElement(we.a,{onClick:function(){e.setState({newUserDialog:{type:99}})},style:{flex:1,margin:"5px"},color:"primary",variant:"contained","aria-label":"add"},"Add Retailer"):null)),this.state.userList.map((function(t){if(t.name.toLowerCase().indexOf(e.state.query.toLowerCase())>-1||(t.id+"").indexOf(e.state.query)>-1||t.mobile.indexOf(e.state.query)>-1||t.email.indexOf(e.state.query)>-1)return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(ze,Object.assign({handleClick:function(){e.setState({changeUserDialog:t.id})}},t)),r.a.createElement(Xe,Object.assign({typeU:e.props.type,perUCommission:e.props.per_commission,fixUCommission:e.props.fix_commission,open:e.state.changeUserDialog===t.id,handleClose:function(){e.loadUserList(),e.setState({changeUserDialog:!1})}},t)))})),r.a.createElement(Ge,{type:this.state.newUserDialog?this.state.newUserDialog.type:99,perCommission:this.props.per_commission,fixCommission:this.props.fix_commission,open:this.state.newUserDialog,handleClose:function(){e.loadUserList(),e.setState({newUserDialog:!1})}}))}}]),a}(r.a.Component);function He(e){var t=r.a.useState(""),a=Object(f.a)(t,2),n=a[0],s=a[1],i=r.a.useState(""),l=Object(f.a)(i,2),u=l[0],m=l[1],p=r.a.useState(""),d=Object(f.a)(p,2),h=d[0],b=d[1],g=r.a.useState(""),v=Object(f.a)(g,2),y=v[0],E=v[1],x=r.a.useState(""),k=Object(f.a)(x,2),C=k[0],S=k[1],w=r.a.useState(""),O=Object(f.a)(w,2),j=O[0],D=O[1],T=r.a.useState(""),I=Object(f.a)(T,2),A=I[0],_=I[1],R=r.a.useState(""),U=Object(f.a)(R,2),P=U[0],N=U[1],L=r.a.useState(""),B=Object(f.a)(L,2),W=B[0],V=B[1],F=r.a.useState(""),q=Object(f.a)(F,2),J=q[0],H=q[1],z=r.a.useState(""),Y=Object(f.a)(z,2),X=Y[0],G=Y[1],K=r.a.useState(""),Q=Object(f.a)(K,2),Z=Q[0],ee=Q[1],te=r.a.useState(!0),ae=Object(f.a)(te,2),ne=ae[0],re=ae[1],se=r.a.useState(""),ie=Object(f.a)(se,2),le=ie[0],oe=ie[1];return r.a.createElement(Oe.a,{open:e.open,elevation:1},r.a.createElement("div",{style:{padding:"15px",display:"flex",flexDirection:"column"}},r.a.createElement(M.a,{align:"left",fullWidth:!0,gutterBottom:!0,variant:"h4"},"KYC Details"),r.a.createElement(M.a,{align:"left",fullWidth:!0,gutterBottom:!0,variant:"h6"},"Please fill up the Merchant KYC Details below"),r.a.createElement(ke.a,{margin:"dense",label:"Company Name",type:"text",variant:"outlined",fullWidth:!0,value:n,disabled:!ne,onChange:function(e){s(e.target.value)}}),r.a.createElement(ke.a,{margin:"dense",label:"Company PAN",type:"text",variant:"outlined",fullWidth:!0,value:u,disabled:!ne,onChange:function(e){m(e.target.value)}}),r.a.createElement(ke.a,{margin:"dense",label:"Your PAN",type:"text",variant:"outlined",fullWidth:!0,value:h,disabled:!ne,onChange:function(e){b(e.target.value)}}),r.a.createElement(ke.a,{margin:"dense",label:"Address",type:"text",variant:"outlined",fullWidth:!0,value:y,disabled:!ne,onChange:function(e){E(e.target.value)}}),r.a.createElement(ke.a,{margin:"dense",label:"City",type:"text",variant:"outlined",fullWidth:!0,value:C,disabled:!ne,onChange:function(e){S(e.target.value)}}),r.a.createElement(ke.a,{margin:"dense",label:"District",type:"text",variant:"outlined",fullWidth:!0,value:j,disabled:!ne,onChange:function(e){D(e.target.value)}}),r.a.createElement(je.a,{variant:"outlined",size:"small",style:{marginTop:"5px"},fullWidth:!0},r.a.createElement(De.a,null,"State"),r.a.createElement(Te.a,{label:"State",disabled:!ne,value:A,onChange:function(e){_(e.target.value)}},e.states?e.states.map((function(e){return e.stateCode?r.a.createElement(Ie.a,{value:e.stateId},e.state):null})):null)),r.a.createElement(ke.a,{margin:"dense",label:"Pin Code",type:"text",variant:"outlined",fullWidth:!0,value:P,disabled:!ne,onChange:function(e){N(e.target.value)}}),r.a.createElement(ke.a,{margin:"dense",label:"Your Aadhaar Number",type:"text",variant:"outlined",fullWidth:!0,value:W,disabled:!ne,onChange:function(e){V(e.target.value)}}),r.a.createElement(ke.a,{margin:"dense",label:"Company GSTIN",type:"text",variant:"outlined",fullWidth:!0,value:J,disabled:!ne,onChange:function(e){H(e.target.value)}}),r.a.createElement(ke.a,{margin:"dense",label:"Company TAN",type:"text",variant:"outlined",fullWidth:!0,value:X,disabled:!ne,onChange:function(e){G(e.target.value)}}),r.a.createElement(M.a,{disabled:!ne,style:{marginTop:"10px"},variant:"h6"},"Government Identification Proof"),r.a.createElement(Me.a,{multiple:!1,onDone:function(e){console.dir(e),/^image\//.test(e.type)&&ee(e.base64)}}),r.a.createElement(M.a,{variant:"body1",color:"error"},le),e.geodata?r.a.createElement("div",null,r.a.createElement(M.a,{align:"left",variant:"subtitle1"},e.geodata.latitude," ",e.geodata.longitude)):r.a.createElement(M.a,{variant:"body1"},"Geolocation required."),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},r.a.createElement(we.a,{onClick:Object(c.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return re(!1),t.next=3,$(!1).registerCompany(n,u,h,y,C,j,A,P,W,J,X,e.geodata.latitude,e.geodata.longitude,Z);case 3:a=t.sent,oe(a.message),"SUCCESS"!==a.status?re(!0):$(null).logOut();case 6:case"end":return t.stop()}}),t)}))),color:"primary"},"Register"),r.a.createElement(we.a,{onClick:function(t){oe(""),e.handleClose()}},"Close"))))}function ze(e){var t=Object(H.a)();return r.a.createElement("div",{style:{padding:"5px",background:t.palette.info.main}},r.a.createElement("div",{style:{display:"flex",alignItems:"stretch",justifyContent:"space-evenly"}},r.a.createElement(M.a,{variant:"body1",style:{fontWeight:"bold",color:t.palette.info.contrastText,padding:"0 15px "}},"1"+("m"+e.id).padStart(6,"0")),r.a.createElement(M.a,{variant:"body1",style:{flex:1,fontWeight:"bold",background:t.palette.primary.main,color:t.palette.primary.contrastText,padding:"0 5px"}},e.name),1===e.status?r.a.createElement(M.a,{variant:"body1",style:{flex:1,background:t.palette.secondary.main,color:t.palette.secondary.contrastText,padding:"0 5px"}},0===e.type?"Super Administrator":1===e.type?"Administrator":2===e.type?"Super Distributor":3===e.type?"Distributor":99===e.type?"Retailer":"Sub Distributor"):r.a.createElement(M.a,{variant:"body1",style:{flex:1,background:t.palette.error.main,color:t.palette.error.contrastText,padding:"0 5px"}},"Inactive"),r.a.createElement("div",{style:{flex:1,background:"#fff"}},r.a.createElement(C.a,{onClick:e.handleClick,color:"primary"},r.a.createElement(Le.a,null)),e.whitelabel?r.a.createElement(C.a,{component:"a",target:"_blank",href:e.whitelabel.url,color:"secondary"},r.a.createElement(Be.a,null)):null,r.a.createElement(C.a,{component:"a",target:"_blank",href:"tel:"+e.mobile,color:"secondary"},r.a.createElement(We.a,null)),r.a.createElement(C.a,{component:"a",href:window.AndroidRDService?"https://api.whatsapp.com/send?phone=91"+e.mobile:"https://web.whatsapp.com/send?phone=91"+e.mobile,target:"whatsapp",color:"secondary"},r.a.createElement(Ve.a,null)),r.a.createElement(C.a,{component:"a",target:"_blank",href:"mailto:"+e.email,color:"secondary"},r.a.createElement(Fe.a,null)))))}var Ye=["0 - 499","500 - 999","1000 - 1499","1500 - 1999","2000 - 2499","2500 - 2999","3000 - 6999","7000 - 10000"];function Xe(e){var t=r.a.useState(e.email),a=Object(f.a)(t,2),n=a[0],s=a[1],i=r.a.useState(e.whitelabel?1:0),l=Object(f.a)(i,2),u=l[0],m=l[1],p=r.a.useState(e.status?e.status:0),d=Object(f.a)(p,2),h=d[0],b=d[1],v=r.a.useState(""),y=Object(f.a)(v,2),E=y[0],x=y[1],k=e.perUCommission?e.perUCommission.split(";"):[0,0,0,0,0,0,0,0],C=e.fixUCommission?e.fixUCommission.split(";"):[0,0,0,0,0,0,0,0],S=e.per_commission?e.per_commission.split(";"):null,w=r.a.useState(S&&8===S.length?S:[0,0,0,0,0,0,0,0]),O=Object(f.a)(w,2),j=O[0],D=O[1],T=e.fix_commission?e.fix_commission.split(";"):null,I=r.a.useState(T&&8===T.length?T:[0,0,0,0,0,0,0,0]),A=Object(f.a)(I,2),_=A[0],R=A[1];return r.a.createElement("div",null,r.a.createElement(Oe.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ae.a,null,r.a.createElement(_e.a,null,"You may change the user's details below."),r.a.createElement(M.a,{variant:"h5"},e.name),r.a.createElement(M.a,{align:"left",variant:"h6",component:"h3"},0===e.type?"Super Administrator":1===e.type?"Administrator":2===e.type?"Super Distributor":3===e.type?"Distributor":99===e.type?"Retailer":"Sub Distributor"),r.a.createElement(M.a,{gutterBottom:!0,variant:"body1"},e.mobile),r.a.createElement(ke.a,{margin:"dense",label:"Email Address",type:"email",value:n,onChange:function(e){s(e.target.value)},fullWidth:!0}),r.a.createElement(M.a,{gutterBottom:!0,variant:"h6",component:"h6"},"Percentage Commission Slabs ( in % )"),[0,1,2,3,4,5,6,7].map((function(t){return r.a.createElement(ke.a,{margin:"dense",label:Ye[t]+" [Max: "+k[t]+"]",type:"number",value:j[t],onChange:function(e){if(e.target.value>0&&e.target.value<100||""===e.target.value){var a=Object(Ee.a)(j);a[t]=e.target.value,D(a)}},error:j[t]>k[t]&&e.typeU>0})})),r.a.createElement(M.a,{gutterBottom:!0,variant:"h6",component:"h6"},"Fixed Commission Slabs ( in Rs )"),[0,1,2,3,4,5,6,7].map((function(t){return r.a.createElement(ke.a,{margin:"dense",label:Ye[t]+" [Max: "+C[t]+"]",type:"number",value:_[t],onChange:function(e){if(e.target.value>0||""===e.target.value){var a=Object(Ee.a)(_);a[t]=e.target.value,R(a)}},error:_[t]>C[t]&&e.typeU>0})})),r.a.createElement("br",null),r.a.createElement(Re.a,{fullWidth:!0,control:r.a.createElement(Ue.a,{checked:h,onChange:function(e){b(e.target.checked?1:0)}}),label:1===h?"Active":"Inactive"}),0===e.typeU?e.whitelabel&&e.whitelabel.uid===e.id?r.a.createElement(M.a,{gutterBottom:!0,variant:"body1",color:"info"},"Whitelabel Assigned: ",e.whitelabel.url):r.a.createElement("div",null,r.a.createElement(Re.a,{control:r.a.createElement(Ue.a,{checked:u,onChange:function(e){m(e.target.checked?{url:""}:0)}}),label:r.a.createElement(ke.a,{margin:"dense",label:"Whitelabel Hostname",type:"url",disabled:!u,value:u.url,onChange:function(e){m({url:e.target.value})},fullWidth:!0})})):null,r.a.createElement("br",null)),r.a.createElement(Pe.a,null,r.a.createElement(M.a,{gutterBottom:!0,color:"error",component:"p",variant:"body1"},E),r.a.createElement(we.a,Object(g.a)({onClick:e.handleClose,color:"primary"},"onClick",Object(c.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(!1).updateUser(n,e.mobile,h,j.join(";"),_.join(";"),e.whitelabel?null:u);case 2:"SUCCESS"===(a=t.sent).status?(x(""),e.handleClose()):x(a.message);case 4:case"end":return t.stop()}}),t)})))),"Save"),r.a.createElement(we.a,{onClick:function(){x(""),e.handleClose()}},"Cancel"))))}function Ge(e){var t=r.a.useState(""),a=Object(f.a)(t,2),n=a[0],s=a[1],i=r.a.useState(""),l=Object(f.a)(i,2),u=l[0],m=l[1],p=r.a.useState(""),d=Object(f.a)(p,2),h=d[0],b=d[1],g=r.a.useState(""),v=Object(f.a)(g,2),y=v[0],E=v[1],x=r.a.useState(!1),k=Object(f.a)(x,2),C=k[0],S=k[1];return r.a.createElement("div",null,r.a.createElement(Oe.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ne.a,{id:"form-dialog-title"},"New ",0===e.type?"Super Administrator":1===e.type?"Administrator":2===e.type?"Super Distributor":3===e.type?"Distributor":99===e.type?"Retailer":"Sub Distributor"),r.a.createElement(Ae.a,null,r.a.createElement(_e.a,null,"Please enter the details for new ",0===e.type?"Super Administrator":1===e.type?"Administrator":2===e.type?"Super Distributor":3===e.type?"Distributor":99===e.type?"Retailer":"Sub Distributor"),r.a.createElement(ke.a,{margin:"dense",label:"Name",type:"name",fullWidth:!0,value:n,onChange:function(e){s(e.target.value)}}),r.a.createElement(ke.a,{margin:"dense",label:"Email Address",type:"email",fullWidth:!0,value:u,onChange:function(e){m(e.target.value)}}),r.a.createElement(ke.a,{margin:"dense",label:"Mobile Number",type:"phone",fullWidth:!0,value:h,onChange:function(e){b(e.target.value)}}),r.a.createElement(Re.a,{control:r.a.createElement(Ue.a,{disabled:99===e.type,checked:C,onChange:function(){S(!C)},name:"allowAdd",color:"secondary"}),label:"Management"}),r.a.createElement(M.a,{component:"pre",variant:"body1",color:"error"},y)),r.a.createElement(Pe.a,null,r.a.createElement(we.a,{onClick:Object(c.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(!1).addUser(n,u,h,C,99===e.type);case 2:"SUCCESS"===(a=t.sent).status&&(s(""),m(""),b(""),E(""),S(!1)),E(a.message);case 5:case"end":return t.stop()}}),t)}))),color:"primary"},"Add"),r.a.createElement(we.a,{onClick:function(){s(""),m(""),b(""),E(""),S(!1),e.handleClose()}},"Cancel"))))}var Ke,$e=a(158),Qe=a(467),Ze=a(484),et=a(468),tt=a(469),at=a(470),nt=a(471),rt=a(472),st=a(473),it=a(244),lt=a(231),ot=a.n(lt),ct=a(96),ut=a(474),mt=a(475),pt=function(){function e(){Object(u.a)(this,e),this.rdInfoCallback=null,this.rdCaptureCallback=null,this.capture_path=null,this.info_path=null,this.port=!1,this.busy=!1,this.test=!1}return Object(m.a)(e,[{key:"startRDInfo",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r,s,i,l,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.busy){e.next=44;break}if(this.busy=!0,this.rdInfoCallback=t,!window.AndroidRDService||!window.AndroidRDService.startRDInfo){e.next=7;break}window.AndroidRDService.startRDInfo(),e.next=43;break;case 7:this.port=11100;case 8:if(!(this.port<=11120)){e.next=41;break}return e.prev=9,e.next=12,fetch("http://127.0.0.1:"+this.port,{method:"RDSERVICE",cache:"no-cache",headers:{"Content-Type":"text/xml; charset=utf-8"}});case 12:return a=e.sent,e.next=15,a.text();case 15:return n=e.sent,console.dir(n),e.next=19,Object(ct.xmlDataToJSON)(n,{normalizeTags:!0,mergeAttrs:!0,explicitArray:!1});case 19:if("READY"!==(r=e.sent).rdservice.status){e.next=34;break}this.info_path=null,s=Object($e.a)(r.rdservice.interface);try{for(s.s();!(i=s.n()).done;)"INFO"!==(l=i.value).id&&"DEVICEINFO"!==l.id||(this.info_path=l.path)}catch(o){s.e(o)}finally{s.f()}if(!this.info_path){e.next=34;break}return e.next=27,fetch("http://127.0.0.1:"+this.port+this.info_path,{method:"DEVICEINFO",cache:"no-cache",headers:{"Content-Type":"text/xml; charset=utf-8"}});case 27:return c=e.sent,e.next=30,c.text();case 30:return u=e.sent,console.dir(u),this.finishRDInfo(u),e.abrupt("return");case 34:e.next=38;break;case 36:e.prev=36,e.t0=e.catch(9);case 38:this.port++,e.next=8;break;case 41:this.port=!1,this.finishRDInfo("<error>Not found!</error>");case 43:this.test&&('<DeviceInfo xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" dpId="(DEVICE-PROVIDER_ID)" rdsId="(RD Service ID)" rdsVer="(RD Service Version)" mdc="(DEVICE_CODE)" mi="(MODEL_ID)" mc="(DEVICE_CERTIFICATE_BASE64_VALUE)" error=""><additional_info key="" value="" /></DeviceInfo>',this.finishRDInfo('<DeviceInfo xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" dpId="(DEVICE-PROVIDER_ID)" rdsId="(RD Service ID)" rdsVer="(RD Service Version)" mdc="(DEVICE_CODE)" mi="(MODEL_ID)" mc="(DEVICE_CERTIFICATE_BASE64_VALUE)" error=""><additional_info key="" value="" /></DeviceInfo>'));case 44:case"end":return e.stop()}}),e,this,[[9,36]])})));return function(t){return e.apply(this,arguments)}}()},{key:"finishRDInfo",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.xmlDataToJSON)(t,{normalizeTags:!0,mergeAttrs:!0,explicitArray:!1});case 2:a=e.sent,console.dir(a),this.busy=!1,null!=this.rdInfoCallback&&this.rdInfoCallback(a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startRDCapture",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r,s,i,l,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.busy){e.next=38;break}if(this.busy=!0,this.rdCaptureCallback=t,!window.AndroidRDService||!window.AndroidRDService.startRDCapture){e.next=7;break}window.AndroidRDService.startRDCapture(),e.next=38;break;case 7:if(!this.port){e.next=38;break}return e.prev=8,e.next=11,fetch("http://127.0.0.1:"+this.port,{method:"RDSERVICE",cache:"no-cache",headers:{"Content-Type":"text/xml; charset=utf-8"}});case 11:return a=e.sent,e.next=14,a.text();case 14:return n=e.sent,console.dir(n),e.next=18,Object(ct.xmlDataToJSON)(n,{normalizeTags:!0,mergeAttrs:!0,explicitArray:!1});case 18:if("READY"!==(r=e.sent).rdservice.status){e.next=34;break}this.capture_path=null,s=Object($e.a)(r.rdservice.interface);try{for(s.s();!(i=s.n()).done;)"CAPTURE"===(l=i.value).id&&(this.capture_path=l.path)}catch(o){s.e(o)}finally{s.f()}if(console.log(this.capture_path),!this.capture_path){e.next=34;break}return e.next=27,fetch("http://127.0.0.1:"+this.port+this.capture_path,{method:"CAPTURE",cache:"no-cache",headers:{"Content-Type":"text/xml; charset=utf-8"},body:'<PidOptions><Opts fCount="1" fType="0" iCount="0" pCount="0" format="0" pidVer="2.0" timeout="10000" otp="" posh="" wadh=""/> </PidOptions>'});case 27:return c=e.sent,e.next=30,c.text();case 30:return u=e.sent,console.dir(u),this.finishRDCapture(u),e.abrupt("return");case 34:e.next=38;break;case 36:e.prev=36,e.t0=e.catch(8);case 38:this.test&&('<PidData xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><Resp fType="" iCount="" pCount="" errCode="" errInfo="" fCount="" ts="" nmPoints="" qScore="" /><DeviceInfo dpId="(DEVICE-PROVIDER_ID)" rdsId="(RD Service ID)" rdsVer="(RD Service Version)" mdc="(DEVICE_CODE)" mi="(MODEL_ID)" mc="(DEVICE_CERTIFICATE_BASE64_VALUE)" error=""><additional_info key="" value="" /></DeviceInfo><Skey ci="(CI_VALUE)">(ENCRYPTED_SKEY_VALUE)</Skey><Hmac>(ENCRYPTED_HMAC_VALUE)</Hmac><Data type="X">(ENCRYPTED_PID_BLOCK_VALUE)</Data></PidData>',this.finishRDCapture('<PidData xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><Resp fType="" iCount="" pCount="" errCode="" errInfo="" fCount="" ts="" nmPoints="" qScore="" /><DeviceInfo dpId="(DEVICE-PROVIDER_ID)" rdsId="(RD Service ID)" rdsVer="(RD Service Version)" mdc="(DEVICE_CODE)" mi="(MODEL_ID)" mc="(DEVICE_CERTIFICATE_BASE64_VALUE)" error=""><additional_info key="" value="" /></DeviceInfo><Skey ci="(CI_VALUE)">(ENCRYPTED_SKEY_VALUE)</Skey><Hmac>(ENCRYPTED_HMAC_VALUE)</Hmac><Data type="X">(ENCRYPTED_PID_BLOCK_VALUE)</Data></PidData>'));case 39:case"end":return e.stop()}}),e,this,[[8,36]])})));return function(t){return e.apply(this,arguments)}}()},{key:"finishRDCapture",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.xmlDataToJSON)(t,{normalizeTags:!0,mergeAttrs:!0,explicitArray:!1});case 2:a=e.sent,console.dir(a),this.busy=!1,null!=this.rdCaptureCallback&&this.rdCaptureCallback(a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function dt(){return Ke||(Ke=new pt,window.RDService=Ke),Ke}var ht=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={adhaar:{value:"",satisfied:!0},name:{value:"",satisfied:!0},mobile:{value:"",satisfied:!0},email:{value:"aeps_bills@minibank.in",satisfied:!0},bank:{value:"",satisfied:!0},next:0,amount:{value:"",satisfied:!0},rdData:!1,changeEnabled:!0,changeEnabled2:!0,message:""},n.rdService=dt(),n.slabLabels=["0 - 499","500 - 999","1000 - 1499","1500 - 1999","2000 - 2499","2500 - 2999","3000 - 6999","7000 - 10000"],n.perCommission=e.profile.per_commission?e.profile.per_commission.split(";"):null,n.fixCommission=e.profile.fix_commission?e.profile.fix_commission.split(";"):null,n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"left",padding:"15px"},elevation:1},r.a.createElement(M.a,{variant:"h4",align:"left",color:"primary",gutterBottom:!0},"Aadhaar enabled Payment System"),r.a.createElement("div",{style:{height:"15px"}}),r.a.createElement(M.a,{align:"left",variant:"h5"},"Customer Details"),r.a.createElement(ke.a,{margin:"dense",label:"Aadhaar Number",type:"number",variant:"outlined",fullWidth:!0,value:this.state.adhaar.value,error:!this.state.adhaar.satisfied,disabled:!this.state.changeEnabled,onChange:function(){var t=Object(c.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!/^([1-9][0-9]{11})$/.test(a.target.value)){t.next=8;break}return e.setState({adhaar:{value:a.target.value,satisfied:!0},changeEnabled:!1}),t.next=4,$(!1).getCustomer(a.target.value,null);case 4:(n=t.sent)?e.setState({adhaar:{value:n.customer_aadhaar,satisfied:!0},name:{value:n.customer_name,satisfied:!0},email:{value:n.customer_email,satisfied:!0},mobile:{value:n.customer_mobile,satisfied:!0},bank:{value:n.bank_id,satisfied:!0},changeEnabled:!0}):e.setState({changeEnabled:!0}),t.next=9;break;case 8:e.setState({adhaar:{value:a.target.value,satisfied:!1}});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),r.a.createElement(je.a,{variant:"outlined",size:"small",style:{marginTop:"5px"},fullWidth:!0},r.a.createElement(De.a,null,"Bank"),r.a.createElement(Te.a,{label:"Bank",disabled:!this.state.changeEnabled,value:this.state.bank.value,error:!this.state.bank.satisfied,onChange:function(t){e.setState({bank:{value:t.target.value,satisfied:!0}})}},this.props.bankDetails?this.props.bankDetails.map((function(e){return r.a.createElement(Ie.a,{value:e.iinno},e.bankName)})):null)),r.a.createElement(ke.a,{margin:"dense",label:"Amount",type:"number",variant:"outlined",fullWidth:!0,value:this.state.amount.value,error:!this.state.amount.satisfied,disabled:!this.state.changeEnabled,onChange:function(t){e.setState({amount:{value:t.target.value,satisfied:/^([1-9][0-9]{1,})$/.test(t.target.value)&&t.target.value<=1e4}})}}),r.a.createElement("div",{style:{height:"15px"}}),r.a.createElement(Qe.a,{container:!0,spacing:1},r.a.createElement(Qe.a,{item:!0},r.a.createElement(we.a,{disabled:!(this.state.changeEnabled&&this.state.adhaar.value&&this.state.adhaar.satisfied&&this.state.bank.value&&this.state.bank.satisfied&&this.state.amount.value&&this.state.amount.satisfied&&this.props.rdDetails&&this.props.rdDetails.deviceinfo&&this.props.geodata),onClick:function(t){e.setState({rdData:!1,changeEnabled:!1,next:1}),e.rdService.startRDCapture(function(){var t=Object(c.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({rdData:!0}),t.next=3,$(!1).makeWithdrawl(e.state.adhaar.value,e.state.email.value,e.state.name.value,e.state.mobile.value,e.state.bank.value,e.state.amount.value,a,e.props.geodata);case 3:n=t.sent,e.setState({changeEnabled:!0,message:n,next:3});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},color:"primary"},"Make Withdrawl")),r.a.createElement(Qe.a,{item:!0},r.a.createElement(we.a,{disabled:!(this.state.changeEnabled&&this.state.adhaar.value&&this.state.adhaar.satisfied&&this.state.bank.value&&this.state.bank.satisfied&&this.props.rdDetails&&this.props.rdDetails.deviceinfo&&this.props.geodata),onClick:function(t){e.setState({rdData:!1,changeEnabled:!1,next:1}),e.rdService.startRDCapture(function(){var t=Object(c.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({rdData:!0}),t.next=3,$(!1).enquireBalance(e.state.adhaar.value,e.state.email.value,e.state.name.value,e.state.mobile.value,e.state.bank.value,a,e.props.geodata);case 3:n=t.sent,e.setState({changeEnabled:!0,message:n,next:3});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},color:"primary"},"Enquire Balance")),r.a.createElement(Qe.a,{item:!0},r.a.createElement(we.a,{disabled:!(this.state.changeEnabled&&this.state.adhaar.value&&this.state.adhaar.satisfied&&this.state.bank.value&&this.state.bank.satisfied&&this.props.rdDetails&&this.props.rdDetails.deviceinfo&&this.props.geodata),onClick:function(t){e.setState({rdData:!1,changeEnabled:!1,next:1}),e.rdService.startRDCapture(function(){var t=Object(c.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({rdData:!0}),t.next=3,$(!1).miniStatement(e.state.adhaar.value,e.state.email.value,e.state.name.value,e.state.mobile.value,e.state.bank.value,a,e.props.geodata);case 3:n=t.sent,e.setState({changeEnabled:!0,message:n,next:3});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},color:"primary"},"Mini Statement")),r.a.createElement(Qe.a,{item:!0},r.a.createElement(we.a,{disabled:!(this.state.changeEnabled&&(/.+/.test(this.state.adhaar.value)||/.+/.test(this.state.email.value)||/.+/.test(this.state.name.value)||/.+/.test(this.state.mobile.value)||0!==this.state.bank.value)),onClick:function(t){e.setState({adhaar:{value:"",satisfied:!0},name:{value:"",satisfied:!0},mobile:{value:"",satisfied:!0},email:{value:"",satisfied:!0},bank:{value:"",satisfied:!0},next:0,amount:{value:"",satisfied:!0}})}},"Clear")))),r.a.createElement(Oe.a,{open:this.state.message&&3===this.state.next},r.a.createElement(Ae.a,{style:{textAlign:"left",padding:"15px",background:"SUCCESS"===this.state.message.status?this.props.theme.palette.success.main:this.props.theme.palette.error.main,color:"SUCCESS"===this.state.message.status?this.props.theme.palette.success.contrastText:this.props.theme.palette.error.contrastText},elevation:1},r.a.createElement(M.a,{variant:"body1"},r.a.createElement("pre",{style:{overflowX:"auto"}},this.state.message.message))),r.a.createElement(Pe.a,null,r.a.createElement(ke.a,{margin:"dense",label:"Mobile Number",variant:"outlined",type:"phone",value:this.state.mobile.value,error:!this.state.mobile.satisfied,disabled:!this.state.changeEnabled,onChange:function(){var t=Object(c.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:/^([1-9][0-9]{9})$/.test(a.target.value)?e.setState({mobile:{value:a.target.value,satisfied:!0}}):e.setState({mobile:{value:a.target.value,satisfied:!1}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),r.a.createElement(we.a,{component:"a",enabled:this.state.mobile.satisfied&&this.state.message,color:"primary",href:window.AndroidRDService?"https://api.whatsapp.com/send?phone=91"+this.state.mobile.value+"&text="+encodeURIComponent(this.state.message.message)+"&source&data&app_absent":"https://web.whatsapp.com/send?phone=91"+this.state.mobile.value+"&text="+encodeURIComponent(this.state.message.message)+"&source&data&app_absent",target:"whatsapp"},r.a.createElement(Ve.a,null)," Send"),r.a.createElement(we.a,{onClick:function(t){e.setState({rdData:!1,changeEnabled2:!0,changeEnabled:!0,next:0})}},"Close"))),r.a.createElement(Oe.a,{open:1===this.state.next},r.a.createElement(Ae.a,{style:{padding:"15px"},elevation:1},r.a.createElement(Qe.a,{container:!0,spacing:1},r.a.createElement(Qe.a,{item:!0,xs:3},r.a.createElement(ot.a,null)),r.a.createElement(Qe.a,{item:!0,xs:9},r.a.createElement(M.a,{align:"left"},this.state.rdData?"BIOMETRIC CAPTURED":""))))))}}]),a}(r.a.Component),ft=Object(Ze.a)(ht),bt=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(u.a)(this,a),n=t.call(this,e);var r=new Date,s=new Date;return s.setDate(r.getDate()+1),n.state={from:r.toISOString().slice(0,10),to:s.toISOString().slice(0,10),transactions:[],query:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetchTransactions()}},{key:"fetchTransactions",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,$(!1).fetchTransactions(this.state.from,this.state.to);case 3:e.t1=e.sent,e.t2={transactions:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{style:{color:this.props.theme.palette.primary.main,padding:"15px"}},r.a.createElement(M.a,{align:"left",gutterBottom:!0,variant:"h4"},"Transactions"),r.a.createElement(Qe.a,{justify:"flex-start",spacing:2,container:!0},r.a.createElement(Qe.a,{item:!0},r.a.createElement(ke.a,{label:"From",type:"date",size:"small",variant:"outlined",defaultValue:this.state.from,onChange:function(){var t=Object(c.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({from:a.target.value});case 2:return t.next=4,e.fetchTransactions();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),InputLabelProps:{shrink:!0}})),r.a.createElement(Qe.a,{item:!0},r.a.createElement(ke.a,{label:"To",type:"date",size:"small",variant:"outlined",defaultValue:this.state.to,onChange:function(){var t=Object(c.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({to:a.target.value});case 2:return t.next=4,e.fetchTransactions();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),InputLabelProps:{shrink:!0}})),r.a.createElement(Qe.a,{item:!0},r.a.createElement(ke.a,{fullWidth:!0,id:"input-with-icon-textfield",label:"Search transactions",variant:"outlined",size:"small",value:this.state.query,onChange:function(t){return e.setState({query:t.target.value})},InputProps:{startAdornment:r.a.createElement(xe.a,{position:"start"},r.a.createElement(Se.a,null))}})))),r.a.createElement("div",null,r.a.createElement(et.a,null,r.a.createElement(tt.a,null,r.a.createElement(at.a,{style:{background:this.props.theme.palette.info.main,color:this.props.theme.palette.info.contrastText}},r.a.createElement(nt.a,null,r.a.createElement(rt.a,null,"TxnID"),r.a.createElement(rt.a,null,"Type"),r.a.createElement(rt.a,null,"Retailer UID"),r.a.createElement(rt.a,null,"Transaction Number"),r.a.createElement(rt.a,null,"Amount"),r.a.createElement(rt.a,null,"Transaction Amount"),r.a.createElement(rt.a,null,"Balance Amount"),r.a.createElement(rt.a,null,"Message"),r.a.createElement(rt.a,null,"Timestamp"))),r.a.createElement(st.a,{style:{background:this.props.theme.palette.info.light,color:this.props.theme.palette.info.contrastText}},this.state.transactions&&this.state.transactions.length>0?this.state.transactions.map((function(t){return!e.state.query||(t.id+"").indexOf(e.state.query)>=0||(t.type+"").indexOf(e.state.query)>=0||(t.timestamp+"").indexOf(e.state.query)>=0||(t.user_id+"").indexOf(e.state.query)>=0?r.a.createElement(nt.a,{key:t.id},r.a.createElement(rt.a,{component:"th",scope:"row"},t.id),r.a.createElement(rt.a,null,t.type),r.a.createElement(rt.a,null,t.user_id),r.a.createElement(rt.a,null,t.fingpayTransactionId),r.a.createElement(rt.a,{align:"right"},t.amount),r.a.createElement(rt.a,{align:"right"},t.transactionAmount),r.a.createElement(rt.a,{align:"right"},t.balanceAmount),r.a.createElement(rt.a,null,t.message),r.a.createElement(rt.a,null,t.timestamp)):null})):r.a.createElement(nt.a,null,r.a.createElement(rt.a,{colSpan:9},"No Transactions Found")))))))}}]),a}(r.a.Component),gt=Object(Ze.a)(bt),vt=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(u.a)(this,a),n=t.call(this,e);var r=new Date,s=new Date;return s.setDate(r.getDate()+1),n.state={from:r.toISOString().slice(0,10),to:s.toISOString().slice(0,10),commissions:[],balance:null,query:"",addBalance:!1,uploadReceipt:!1,addBalanceAmount:"",message:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetchCommissions()}},{key:"fetchCommissions",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(!1).fetchCommissions(this.state.from,this.state.to);case 2:t=e.sent,this.setState({commissions:t.commissions,balance:t.balance});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{style:{color:this.props.theme.palette.primary.main,padding:"15px"}},r.a.createElement(M.a,{align:"left",gutterBottom:!0,variant:"h4"},"Wallet"),null!==this.state.balance?r.a.createElement("div",{style:{textAlign:"left",paddingBottom:"15px"}},r.a.createElement(M.a,{align:"left",component:"span",variant:"h5"},"Balance: "),r.a.createElement(M.a,{align:"left",component:"span",color:"primary",variant:"h5"}," ",this.state.balance," "),r.a.createElement("div",null,r.a.createElement(we.a,{color:"primary",onClick:function(){return e.setState({addBalance:!0})},style:{margin:"10px"},variant:"outlined"},"Add"),r.a.createElement(we.a,{color:"secondary",component:Y.b,to:"/transfer",style:{margin:"10px"},variant:"outlined"},"Withdraw"))):null,r.a.createElement(Qe.a,{justify:"flex-start",spacing:2,container:!0},r.a.createElement(Qe.a,{item:!0},r.a.createElement(ke.a,{label:"From",type:"date",size:"small",variant:"outlined",defaultValue:this.state.from,onChange:function(){var t=Object(c.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({from:a.target.value});case 2:return t.next=4,e.fetchCommissions();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),InputLabelProps:{shrink:!0}})),r.a.createElement(Qe.a,{item:!0},r.a.createElement(ke.a,{label:"To",type:"date",size:"small",variant:"outlined",defaultValue:this.state.to,onChange:function(){var t=Object(c.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({to:a.target.value});case 2:return t.next=4,e.fetchCommissions();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),InputLabelProps:{shrink:!0}})),r.a.createElement(Qe.a,{item:!0},r.a.createElement(ke.a,{fullWidth:!0,id:"input-with-icon-textfield",label:"Search commissions",variant:"outlined",size:"small",value:this.state.query,onChange:function(t){return e.setState({query:t.target.value})},InputProps:{startAdornment:r.a.createElement(xe.a,{position:"start"},r.a.createElement(Se.a,null))}})))),r.a.createElement(Oe.a,{open:this.state.addBalance,onClose:function(){return e.setState({message:"",addBalance:!1,uploadReceipt:null,addBalanceAmount:null})}},r.a.createElement(it.a,{style:{padding:"15px"}},r.a.createElement(M.a,{style:{marginTop:"10px"},variant:"h6"},"Add Balance"),r.a.createElement(ke.a,{margin:"dense",label:"Amount",type:"number",variant:"outlined",fullWidth:!0,gutterBottom:!0,style:{color:this.props.theme.palette.info.contrastText},value:this.state.addBalanceAmount,onChange:function(t){e.setState({addBalanceAmount:t.target.value})}}),r.a.createElement(M.a,{style:{marginTop:"10px"},variant:"caption"},"Deposit Receipt/Transfer Receipt"),r.a.createElement("br",null),r.a.createElement(Me.a,{multiple:!1,onDone:function(t){/^image\//.test(t.type)&&e.setState({uploadReceipt:t.base64})}}),r.a.createElement(M.a,{color:"error"},this.state.message),r.a.createElement("div",{style:{display:"flex",margin:"5px",justifyContent:"flex-start"}},r.a.createElement(we.a,{color:"primary",onClick:Object(c.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(null).addBalance(e.state.addBalanceAmount,e.state.uploadReceipt);case 2:a=t.sent,e.setState({message:a.message}),e.fetchCommissions();case 5:case"end":return t.stop()}}),t)})))},"Request"),r.a.createElement(we.a,{onClick:function(){return e.setState({message:"",addBalance:!1,uploadReceipt:null,addBalanceAmount:null})}},"Close")))),r.a.createElement("div",null,r.a.createElement(et.a,null,r.a.createElement(tt.a,null,r.a.createElement(at.a,{style:{background:this.props.theme.palette.info.main,color:this.props.theme.palette.info.contrastText}},r.a.createElement(nt.a,null,r.a.createElement(rt.a,null,"TxnID"),r.a.createElement(rt.a,null,"Particulars"),r.a.createElement(rt.a,null,"Amount"),r.a.createElement(rt.a,null,"Type"),r.a.createElement(rt.a,null,"Timestamp"),r.a.createElement(rt.a,null,"Status"))),r.a.createElement(st.a,{style:{background:this.props.theme.palette.info.light,color:this.props.theme.palette.info.contrastText}},this.state.commissions&&this.state.commissions.length>0?this.state.commissions.map((function(t){return!e.state.query||(t.id+"").indexOf(e.state.query)>=0||(t.tid+"").indexOf(e.state.query)>=0||(t.commission+"").indexOf(e.state.query)>=0||(t.value+"").indexOf(e.state.query)>=0||(t.timestamp+"").indexOf(e.state.query)>=0?r.a.createElement(nt.a,{key:t.id},r.a.createElement(rt.a,null,"Txn",t.tid,"_",t.id),r.a.createElement(rt.a,null,t.commission),r.a.createElement(rt.a,{align:"right",style:{background:e.props.theme.palette.info.main}},t.value),r.a.createElement(rt.a,null,t.type),r.a.createElement(rt.a,null,t.timestamp),r.a.createElement(rt.a,{style:1===t.accepted?{background:e.props.theme.palette.success.main,color:e.props.theme.palette.success.contrastText}:{background:e.props.theme.palette.error.main,color:e.props.theme.palette.error.contrastText}},1===t.accepted?"ACCEPTED":2===t.accepted?"REJECTED":"PENDING")):null})):r.a.createElement(nt.a,null,r.a.createElement(rt.a,{colSpan:6},"No Transactions Found")))))))}}]),a}(r.a.Component),yt=Object(Ze.a)(vt),Et=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={commissions:[],message:"",viewDoc:null},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetchCommissions()}},{key:"fetchCommissions",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(!1).fetchAddRequests();case 2:t=e.sent,this.setState({commissions:t.commissions});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch"}},r.a.createElement("div",{style:{color:this.props.theme.palette.primary.main,padding:"15px"}},r.a.createElement(M.a,{align:"left",gutterBottom:!0,variant:"h4"},"Approve Add Balance")),this.state.viewDoc?r.a.createElement("div",{style:{}},r.a.createElement("div",{style:{padding:"10px",display:"flex",justifyContent:"space-between"}},r.a.createElement(M.a,{variant:"h6"},"Uploaded Receipt"),r.a.createElement("div",null,r.a.createElement(we.a,{color:"primary"},"Print"),r.a.createElement(we.a,{color:"secondary",onClick:function(){return e.setState({viewDoc:null})}},"Close"))),r.a.createElement("iframe",{style:{height:"480px",width:"100%"},src:this.state.viewDoc},"Holla! Please contact administrator...")):r.a.createElement("div",null,r.a.createElement(et.a,null,r.a.createElement(tt.a,null,r.a.createElement(at.a,{style:{background:this.props.theme.palette.info.main,color:this.props.theme.palette.info.contrastText}},r.a.createElement(nt.a,null,r.a.createElement(rt.a,null,"TxnID"),r.a.createElement(rt.a,null,"User ID"),r.a.createElement(rt.a,null,"Amount"),r.a.createElement(rt.a,null,"Timestamp"),r.a.createElement(rt.a,null,"Action"))),r.a.createElement(st.a,{style:{background:this.props.theme.palette.info.light,color:this.props.theme.palette.info.contrastText}},this.state.commissions&&this.state.commissions.length>0?this.state.commissions.map((function(t){return r.a.createElement(nt.a,{key:t.id},r.a.createElement(rt.a,null,"Txn",t.tid,"_",t.id),r.a.createElement(rt.a,null,t.uid),r.a.createElement(rt.a,{align:"right",style:{background:e.props.theme.palette.info.main}},t.value),r.a.createElement(rt.a,null,t.timestamp),r.a.createElement(rt.a,{style:{background:"#fff"},align:"center"},r.a.createElement(C.a,{color:"secondary",onClick:function(){e.setState({viewDoc:t.data})}},r.a.createElement(ut.a,null)),r.a.createElement(C.a,{onClick:Object(c.a)(o.a.mark((function a(){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,$(null).approveBalance(t.id,1);case 2:n=a.sent,e.setState({message:n.message}),e.fetchCommissions();case 5:case"end":return a.stop()}}),a)}))),color:"primary"},r.a.createElement(Z.a,null)),r.a.createElement(C.a,{onClick:Object(c.a)(o.a.mark((function a(){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,$(null).approveBalance(t.id,2);case 2:n=a.sent,e.setState({message:n.message}),e.fetchCommissions();case 5:case"end":return a.stop()}}),a)}))),color:"primary"},r.a.createElement(mt.a,null))))})):r.a.createElement(nt.a,null,r.a.createElement(rt.a,{colSpan:5},"No Transactions Found")))))))}}]),a}(r.a.Component),xt=Object(Ze.a)(Et),kt=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={transferType:!1,accountNumber:"",ifsCode:"",amount:0,name:"",viewDoc:!1,limit:0,charge:0,message:"",phone:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetchCommissions()}},{key:"fetchCommissions",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(!1).fetchTransfers();case 2:t=e.sent,this.setState({commissions:t.commissions,limit:parseInt(t.limit),charge:parseInt(t.charge)});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",padding:"15px"}},r.a.createElement(M.a,{align:"left",color:"primary",gutterBottom:!0,variant:"h4"},"Money Transfer"),r.a.createElement(ke.a,{margin:"dense",label:"Customer Name",type:"text",variant:"outlined",style:{margin:"5px"},fullWidth:!0,gutterBottom:!0,value:this.state.name,onChange:function(t){e.setState({name:t.target.value})}}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(ke.a,{margin:"dense",label:"Amount",type:"number",variant:"outlined",gutterBottom:!0,style:{flex:1,margin:"5px"},value:this.state.amount,onChange:function(t){e.setState({amount:parseInt(t.target.value)})}}),r.a.createElement(M.a,{align:"left",style:{flex:1,margin:"5px"},component:"p",variant:"body1"},"Transfer Charge: ",this.state.amount&&this.state.amount>0&&this.state.limit&&this.state.charge?Math.ceil(this.state.amount/this.state.limit)*this.state.charge:0)),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(ke.a,{margin:"dense",label:"Account Number",type:"number",variant:"outlined",gutterBottom:!0,style:{flex:1,margin:"5px"},value:this.state.accountNumber,onChange:function(t){e.setState({accountNumber:t.target.value})}}),r.a.createElement(ke.a,{margin:"dense",label:"IFSC Code",type:"text",variant:"outlined",gutterBottom:!0,style:{flex:1,margin:"5px"},value:this.state.ifsCode,onChange:function(t){e.setState({ifsCode:t.target.value})}})),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(we.a,{color:"primary",onClick:Object(c.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(null).makePayment(e.state.name,e.state.amount,e.state.accountNumber,e.state.ifsCode);case 2:"SUCCESS"===(a=t.sent).status?e.setState({viewDoc:a.message}):e.setState({message:a.message}),e.fetchCommissions();case 5:case"end":return t.stop()}}),t)})))},"Transfer"),r.a.createElement(we.a,{color:"secondary",onClick:function(){return e.setState({name:"",amount:0,accountNumber:"",ifsCode:""})}},"Clear"),r.a.createElement(M.a,{align:"left",style:{flex:1,margin:"5px"},color:"error",component:"p",variant:"body1"},this.state.message))),r.a.createElement(Oe.a,{open:this.state.viewDoc},r.a.createElement(Ae.a,null,r.a.createElement("iframe",{style:{height:"480px",width:"100%"},src:this.state.viewDoc},"Holla! Please contact administrator...")),r.a.createElement(Pe.a,null,r.a.createElement(ke.a,{margin:"dense",label:"Customer Mobile",type:"phone",variant:"outlined",gutterBottom:!0,style:{flex:1,margin:"5px"},color:"primary",value:this.state.phone,onChange:function(t){e.setState({phone:t.target.value})}}),r.a.createElement(we.a,{component:"a",enabled:/[1-9][0-9]{9}/.test(this.state.phone),href:this.state.viewDoc?window.AndroidRDService?"https://api.whatsapp.com/send?phone=91"+this.state.phone+"&text="+encodeURIComponent(this.state.viewDoc.substring(15))+"&source&data&app_absent":"https://web.whatsapp.com/send?phone=91"+this.state.phone+"&text="+encodeURIComponent(this.state.viewDoc.substring(15))+"&source&data&app_absent":null,target:"whatsapp"},r.a.createElement(Ve.a,null)," Send"),r.a.createElement(we.a,{color:"secondary",onClick:function(){return e.setState({viewDoc:null})}},"Close"))),r.a.createElement("div",null,r.a.createElement(et.a,null,r.a.createElement(tt.a,null,r.a.createElement(at.a,{style:{background:this.props.theme.palette.info.main,color:this.props.theme.palette.info.contrastText}},r.a.createElement(nt.a,null,r.a.createElement(rt.a,null,"TxnID"),r.a.createElement(rt.a,null,"User ID"),r.a.createElement(rt.a,null,"Amount"),r.a.createElement(rt.a,null,"Timestamp"),r.a.createElement(rt.a,null,"Status"),r.a.createElement(rt.a,null,"Action"))),r.a.createElement(st.a,{style:{background:this.props.theme.palette.info.light,color:this.props.theme.palette.info.contrastText}},this.state.commissions&&this.state.commissions.length>0?this.state.commissions.map((function(t){return r.a.createElement(nt.a,{key:t.id},r.a.createElement(rt.a,null,"Txn",t.tid,"_",t.id),r.a.createElement(rt.a,null,t.uid),r.a.createElement(rt.a,{align:"right",style:{background:e.props.theme.palette.info.main}},t.value),r.a.createElement(rt.a,null,t.timestamp),r.a.createElement(rt.a,{style:1===t.accepted?{background:e.props.theme.palette.success.main,color:e.props.theme.palette.success.contrastText}:{background:e.props.theme.palette.error.main,color:e.props.theme.palette.error.contrastText}},1===t.accepted?"ACCEPTED":2===t.accepted?"REJECTED":"PENDING"),r.a.createElement(rt.a,{style:{background:"#fff"},align:"center"},t.data?r.a.createElement(C.a,{color:"secondary",onClick:function(){e.setState({viewDoc:t.data})}},r.a.createElement(ut.a,null)):null))})):r.a.createElement(nt.a,null,r.a.createElement(rt.a,{colSpan:5},"No Transactions Found")))))))}}]),a}(r.a.Component),Ct=Object(Ze.a)(kt),St=a(485),wt=a(159),Ot=a.n(wt),jt=a(232),Dt=a.n(jt),Tt=a(233),It=a.n(Tt),At=a(69);function _t(e){var t=r.a.useState(""),a=Object(f.a)(t,2),n=a[0],s=a[1],i=r.a.useState(""),l=Object(f.a)(i,2),u=l[0],m=l[1],p=r.a.useState(""),d=Object(f.a)(p,2),h=d[0],b=d[1],g=r.a.useState(!0),v=Object(f.a)(g,2),y=v[0],E=v[1],x=r.a.useState(!1),k=Object(f.a)(x,2),C=k[0],S=k[1],w=r.a.useState(!1),O=Object(f.a)(w,2),j=O[0],D=O[1],T=r.a.useState(e.whitelabel?e.whitelabel.name:e.merchant?e.merchant.name:""),I=Object(f.a)(T,2),A=I[0],_=I[1],R=r.a.useState(e.whitelabel?e.whitelabel.instructions:""),U=Object(f.a)(R,2),P=U[0],N=U[1],L=Object(H.a)(),B=e.whitelabel&&e.whitelabel.color?e.whitelabel.color.split(","):null,W=r.a.useState(B&&6===B.length?B:[L.palette.primary.main,L.palette.secondary.main,L.palette.error.main,L.palette.warning.main,L.palette.info.main,L.palette.success.main]),V=Object(f.a)(W,2),F=V[0],q=V[1],J=function(t){e.setColor&&e.setColor(t),q(t)},z=r.a.useState(e.whitelabel?e.whitelabel.logo:null),Y=Object(f.a)(z,2),X=Y[0],G=Y[1],K=r.a.useState(!0),Q=Object(f.a)(K,2),Z=Q[0],ee=Q[1],te=["0 - 499","500 - 999","1000 - 1499","1500 - 1999","2000 - 2499","2500 - 2999","3000 - 6999","7000 - 10000"],ae=e.per_commission?e.per_commission.split(";"):null,ne=e.fix_commission?e.fix_commission.split(";"):null;return r.a.createElement("div",null,r.a.createElement(Qe.a,{alignItems:"stretch",container:!0},r.a.createElement(Qe.a,{item:!0,lg:e.whitelabel?8:12,xs:12,style:{display:"flex",justifyContent:"space-between",flexDirection:"column"}},r.a.createElement(M.a,{gutterBottom:!0,style:{display:"flex",justifyContent:"space-between",alignItems:"center",textAlign:"left",margin:"10px",color:L.palette.secondary.main},variant:"h3"},e.name,r.a.createElement("div",null,r.a.createElement(we.a,{disabled:j,onClick:function(){D(!0)},variant:"outlined",color:"secondary"},"Change Password"),r.a.createElement("span",null," "),e.merchant_id?null:r.a.createElement(we.a,{onClick:function(){S(!0)},color:"primary",variant:"outlined","aria-label":"add"},"KYC for AePS"))),r.a.createElement("div",null,r.a.createElement(M.a,{gutterBottom:!0,style:{color:L.palette.info.main},variant:"h4"},(0===e.type?"Super Administrator":1===e.type?"Administrator":2===e.type?"Super Distributor":3===e.type?"Distributor":99===e.type?"Retailer":"Sub Distributor").toUpperCase()),r.a.createElement(M.a,{style:{color:L.palette.info.main},variant:"body1"},"Unique ID: ","1"+("m"+e.id).padStart(6,"0")),r.a.createElement(M.a,{style:{color:L.palette.info.main},variant:"body1"},e.email),r.a.createElement(M.a,{style:{color:L.palette.info.main,marginBottom:"15px"},variant:"body1"},e.mobile)),r.a.createElement("div",{style:{background:L.palette.info.main,color:L.palette.info.contrastText,padding:"5px"}},r.a.createElement(M.a,{gutterBottom:!0,style:{textAlign:"left",margin:"15px"},variant:"h4"},"AePS Commissions"),r.a.createElement("div",{style:{margin:"15px",display:"flex",justifyContent:"space-evenly",flexWrap:"wrap"}},[0,1,2,3,4,5,6,7].map((function(e){return r.a.createElement("div",{style:{background:L.palette.info.light,margin:"5px",padding:"10px"}},r.a.createElement(M.a,{variant:"caption"},te[e]),ae?r.a.createElement(M.a,{variant:"body1"},ae[e]?ae[e]:"0"," %"):null,ne?r.a.createElement(M.a,{variant:"body1"},"Rs. ",ne[e]?ne[e]:"0"):null)})))),r.a.createElement(He,{states:e.states,geodata:e.geodata,open:C,handleClose:function(){return S(!1)}}),r.a.createElement(Oe.a,{open:j},r.a.createElement("div",{style:{padding:"15px"},elevation:1},r.a.createElement(M.a,{gutterBottom:!0,variant:"h5"},"Change Password"),r.a.createElement(ke.a,{margin:"dense",label:"New Password",type:"password",variant:"outlined",fullWidth:!0,value:u,disabled:!y,onChange:function(e){m(e.target.value)}}),r.a.createElement(ke.a,{margin:"dense",label:"Confirm Password",type:"password",variant:"outlined",fullWidth:!0,value:n,disabled:!y,onChange:function(e){s(e.target.value)}}),r.a.createElement(M.a,{variant:"body1",color:"error"},h),r.a.createElement(Qe.a,{container:!0,spacing:1},r.a.createElement(Qe.a,{item:!0},r.a.createElement(we.a,{disabled:!(u.length>=6&&n===u)||!y,onClick:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u.length>=6&&n===u)){e.next=13;break}return a=Ot.a.createHash("sha1").update(u).digest("base64"),E(!1),m(a),e.next=6,$(!1).changePassword(a);case 6:r=e.sent,b(r.message),"SUCCESS"===r.status&&s(""),m(""),E(!0),e.next=14;break;case 13:b("Both the passwords must be identical and atleast 6 characters long.");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),color:"primary"},"Save")),r.a.createElement(Qe.a,{item:!0},r.a.createElement(we.a,{onClick:function(e){b(""),m(""),s(""),D(!1)}},"Close")))))),e.whitelabel&&e.whitelabel.uid===e.id?r.a.createElement(Qe.a,{item:!0,xs:12,lg:4},r.a.createElement("div",{style:{background:"#fed",padding:"15px"}},r.a.createElement(M.a,{gutterBottom:!0,variant:"h4"},"Whitelabel Settings"),r.a.createElement(ke.a,{margin:"dense",label:"Whitelabel Title",type:"text",variant:"outlined",fullWidth:!0,style:{color:L.palette.info.contrastText},value:A,disabled:!Z,onChange:function(e){_(e.target.value)}}),r.a.createElement(M.a,{style:{marginTop:"10px"},variant:"h5"},"Instructions"),r.a.createElement(Dt.a,{editor:It.a,data:P,disabled:!Z,fullWidth:!0,style:{width:"100%",height:"360px"},onChange:function(e,t){N(t.getData())}}),r.a.createElement(M.a,{style:{marginTop:"10px"},variant:"h5"},"Colors"),r.a.createElement("div",{style:{background:F[0],display:"flex"}},r.a.createElement(At.a,{initialValue:F[0],onChange:function(e){var t=Object(Ee.a)(F);t[0]=e.hex,J(t)}}),r.a.createElement(M.a,{style:{flex:1,textAlign:"center"},variant:"body1"},"Primary"),r.a.createElement("br",null)),r.a.createElement("div",{style:{background:F[1],display:"flex"}},r.a.createElement(At.a,{initialValue:F[1],onChange:function(e){var t=Object(Ee.a)(F);t[1]=e.hex,J(t)}}),r.a.createElement(M.a,{style:{flex:1,textAlign:"center"},variant:"body1"},"Secondary"),r.a.createElement("br",null)),r.a.createElement("div",{style:{background:F[2],display:"flex"}},r.a.createElement(At.a,{initialValue:F[2],onChange:function(e){var t=Object(Ee.a)(F);t[2]=e.hex,J(t)}}),r.a.createElement(M.a,{style:{flex:1,textAlign:"center"},variant:"body1"},"Error"),r.a.createElement("br",null)),r.a.createElement("div",{style:{background:F[3],display:"flex"}},r.a.createElement(At.a,{initialValue:F[3],onChange:function(e){var t=Object(Ee.a)(F);t[3]=e.hex,J(t)}}),r.a.createElement(M.a,{style:{flex:1,textAlign:"center"},variant:"body1"},"Warning"),r.a.createElement("br",null)),r.a.createElement("div",{style:{background:F[4],display:"flex"}},r.a.createElement(At.a,{initialValue:F[4],onChange:function(e){var t=Object(Ee.a)(F);t[4]=e.hex,J(t)}}),r.a.createElement(M.a,{style:{flex:1,textAlign:"center"},variant:"body1"},"Info"),r.a.createElement("br",null)),r.a.createElement("div",{style:{background:F[5],display:"flex"}},r.a.createElement(At.a,{initialValue:F[5],onChange:function(e){var t=Object(Ee.a)(F);t[5]=e.hex,J(t)}}),r.a.createElement(M.a,{style:{flex:1,textAlign:"center"},variant:"body1"},"Success"),r.a.createElement("br",null)),r.a.createElement(M.a,{disabled:!Z,style:{marginTop:"10px"},variant:"h6"},"Logo"),r.a.createElement(Me.a,{multiple:!1,onDone:function(e){console.dir(e),/^image\//.test(e.type)&&G(e.base64)}}),r.a.createElement("p",{align:"center"},X?r.a.createElement("img",{src:X,style:{maxWidth:"360px",maxHeight:"100px"}}):null),r.a.createElement(M.a,{variant:"body1",color:"error"},h),r.a.createElement(Qe.a,{container:!0,spacing:1},r.a.createElement(Qe.a,{item:!0},Z?r.a.createElement(we.a,{onClick:Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee(!1),e.next=3,$(!1).saveWhiteLabel(A,X,P,F.join(","));case 3:t=e.sent,b(t.message),"SUCCESS"!==t.status&&ee(!0);case 6:case"end":return e.stop()}}),e)}))),color:"primary"},"Save"):null)))):null,r.a.createElement(Qe.a,{xs:12},e.company?r.a.createElement("div",{style:{padding:"15px",margin:"25px 0",color:L.palette.secondary.dark}},r.a.createElement(M.a,{gutterBottom:!0,variant:"h5"},e.company.company_name),e.company.phone?r.a.createElement(M.a,{variant:"body1"},"Phone: ",e.company.phone):null,e.company.gstin?r.a.createElement(M.a,{variant:"body1"},"GSTIN: ",e.company.gstin):null,e.company.company_pan?r.a.createElement(M.a,{variant:"body1"},"Company PAN: ",e.company.company_pan):null,e.company.tan?r.a.createElement(M.a,{variant:"body1"},"Company TAN: ",e.company.tan):null,r.a.createElement(M.a,{gutterBottom:!0,variant:"body1"},e.company.address,", ",e.company.state," (PIN : ",e.company.pincode,")")):null)))}function Rt(e){var t=r.a.useState(""),a=Object(f.a)(t,2),n=a[0],s=a[1],i=r.a.useState(""),l=Object(f.a)(i,2),u=l[0],m=l[1],p=r.a.useState(""),d=Object(f.a)(p,2),h=d[0],b=d[1],g=r.a.useState(!0),v=Object(f.a)(g,2),y=v[0],E=v[1],x=Object(H.a)();return r.a.createElement("div",{style:{padding:"75px 10px"}},r.a.createElement(Qe.a,{container:!0,justify:"center"},r.a.createElement(Qe.a,{item:!0,xs:12},r.a.createElement("div",null,r.a.createElement(M.a,{align:"center",style:{color:x.palette.primary.main},variant:"h4"},e.site&&e.site.name?e.site.name:"Log In"),r.a.createElement("div",{style:{margin:"15px"}},e.site&&e.site.logo?r.a.createElement("img",{style:{maxHeight:"150px",maxWidth:"480px"},src:e.site.logo}):r.a.createElement(St.a,{style:{position:"relative",left:"50%",transform:"translate(-50%,0)",width:"150px",height:"150px"}}))),r.a.createElement("div",{style:{position:"relative",margin:"0 auto",padding:"10px",maxWidth:"480px"},square:!0},r.a.createElement(M.a,{align:"left",color:"secondary",gutterBottom:!0,variant:"h6"},"Welcome, please log in to continue!"),r.a.createElement(ke.a,{margin:"dense",label:"Phone",type:"phone",variant:"outlined",fullWidth:!0,value:u,onChange:function(e){m(e.target.value)},disabled:!y}),r.a.createElement(ke.a,{margin:"dense",label:"Password",type:"password",variant:"outlined",fullWidth:!0,value:n,onChange:function(e){s(e.target.value)},disabled:!y}),r.a.createElement(M.a,{align:"left",color:"error",variant:"body1"},h),r.a.createElement(Qe.a,{justify:"left",container:!0},r.a.createElement(Qe.a,{item:!0},r.a.createElement(we.a,{color:"primary",disabled:!y||n.length<6||!/^([1-9][0-9]{9})$/.test(u),onClick:Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ot.a.createHash("sha1").update(n).digest("base64"),E(!1),s(n),e.next=5,$(!1).logIn(u,n);case 5:"FAILURE"===(t=e.sent).status&&(b(t.message),s(""),E(!0));case 7:case"end":return e.stop()}}),e)})))},"Log In")),r.a.createElement(Qe.a,{item:!0},r.a.createElement(we.a,{color:"secondary",disabled:!y||!/^([1-9][0-9]{9})$/.test(u),onClick:Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!1),e.next=3,$(!1).forgotPassword(u);case 3:t=e.sent,b(t.message),E(!0);case 6:case"end":return e.stop()}}),e)})))},"Forgot Password")))))))}var Ut=a(241),Pt=a(476),Nt=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={profile:null,bankDetails:null,loggedIn:!1,states:null,site:null,geoData:!1,rdDetails:!1,balance:0,theme:null},n.setState=n.setState.bind(Object(p.a)(n)),n.timedRDChecker=n.timedRDChecker.bind(Object(p.a)(n)),n.timedNetChecker=n.timedNetChecker.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(c.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fingpayap.tapits.in/fpaepsservice/api/bankdata/bank/details");case 2:return e.next=4,e.sent.json();case 4:0===(a=e.sent).statusCode&&t.setState({bankDetails:a.data});case 6:case"end":return e.stop()}}),e)})))(),Object(c.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fingpayap.tapits.in/fpaepsweb/api/onboarding/getstates");case 2:return e.next=4,e.sent.json();case 4:a=e.sent,t.setState({states:a});case 6:case"end":return e.stop()}}),e)})))(),Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(e){var a=e.coords,n=a.latitude,r=a.longitude;localStorage.setItem("geoData",JSON.stringify({latitude:n,longitude:r})),t.setState({geoData:e.coords})}),(function(){var e=JSON.parse(localStorage.getItem("geoData"));t.setState({geoData:e})}),{timeout:3e5});case 1:case"end":return e.stop()}}),e)})))(),this.rdTimer=setInterval((function(){t.timedRDChecker()}),3e5),this.timedRDChecker(),this.netTimer=setInterval((function(){t.timedNetChecker()}),12e4),this.timedNetChecker();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"timedRDChecker",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dt().startRDInfo((function(e){t.setState({rdDetails:e})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"timedNetChecker",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $((function(e){a.setState(e)})),e.prev=1,e.next=4,$(!1).getSite();case 4:t=e.sent,this.setState({site:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({site:!1});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=null;document.title=this.state.profile&&this.state.profile.whitelabel?this.state.profile.whitelabel.name:this.state.site?this.state.site.name:"Suppl Client";var a=this.state.profile&&this.state.profile.whitelabel&&this.state.profile.whitelabel.colors?this.state.profile.whitelabel.colors.split(","):null;return a&&6===a.length||(a=this.state.site&&this.state.site.colors?this.state.site.colors.split(","):null),a&&6===a.length&&(t=Object(Ut.a)({palette:{primary:{main:a[0]},secondary:{main:a[1]},error:{main:a[2]},warning:{main:a[3]},info:{main:a[4]},success:{main:a[5]}}})),r.a.createElement("div",{className:"App"},r.a.createElement(Pt.a,{theme:this.state.theme?this.state.theme:t},r.a.createElement(Y.a,null,r.a.createElement(ye,this.state,this.state.loggedIn?r.a.createElement(z.c,null,r.a.createElement(z.a,{path:"/",exact:!0},r.a.createElement(Qe.a,{alignContent:"stretch",direction:"row",container:!0},r.a.createElement(Qe.a,{item:!0,xs:12,lg:8},r.a.createElement(oe,{profile:this.state.profile,site:this.state.site}),r.a.createElement(le,{profile:this.state.profile,site:this.state.site}),r.a.createElement(ie,{profile:this.state.profile,site:this.state.site})),r.a.createElement(Qe.a,{item:!0,xs:12,lg:4},r.a.createElement(me,{profile:this.state.profile,site:this.state.site})),r.a.createElement(Qe.a,{item:!0,xs:12},r.a.createElement(ue,null)))),r.a.createElement(z.a,{path:"/management",exact:!0},r.a.createElement(Je,Object.assign({},this.state.profile,{geoData:this.state.geoData,states:this.state.states}))),r.a.createElement(z.a,{path:"/approve",exact:!0},r.a.createElement(xt,null)),r.a.createElement(z.a,{path:"/cash",exact:!0},r.a.createElement(Qe.a,{alignContent:"stretch",direction:"row",container:!0},r.a.createElement(Qe.a,{item:!0,xs:12,lg:8},r.a.createElement(ft,{profile:this.state.profile,geodata:this.state.geoData,rdDetails:this.state.rdDetails,bankDetails:this.state.bankDetails})),r.a.createElement(Qe.a,{item:!0,xs:12,lg:4},r.a.createElement(me,{profile:this.state.profile,site:this.state.site})))),r.a.createElement(z.a,{path:"/history",exact:!0},r.a.createElement(gt,{bankDetails:this.state.bankDetails})),r.a.createElement(z.a,{path:"/transfer",exact:!0},r.a.createElement(Ct,null)),r.a.createElement(z.a,{path:"/balance",exact:!0},r.a.createElement(yt,{bankDetails:this.state.bankDetails})),r.a.createElement(z.a,{path:"/account",exact:!0},r.a.createElement(_t,Object.assign({geodata:this.state.geoData,setColor:function(t){return e.setState({theme:t?Object(Ut.a)({palette:{primary:{main:t[0]},secondary:{main:t[1]},error:{main:t[2]},warning:{main:t[3]},info:{main:t[4]},success:{main:t[5]}}}):null})},states:this.state.states},this.state.profile)))):r.a.createElement(z.c,null,r.a.createElement(z.a,{path:"/"},r.a.createElement("div",null,r.a.createElement(Rt,{site:this.state.site}),r.a.createElement(ue,null)))),r.a.createElement("div",{style:{height:"50px"}})))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.rDService=dt(),window.AndroidRDService||"https:"===document.location.protocol||"localhost"===document.location.hostname||document.location.assign("https://"+document.location.hostname),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Nt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[255,1,2]]]);
//# sourceMappingURL=main.51dfb995.chunk.js.map